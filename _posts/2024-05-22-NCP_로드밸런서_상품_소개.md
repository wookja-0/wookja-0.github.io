---
title: "[NCP] 로드밸런서 상품 소개"
date: 2024-05-22 00:00:00 +0900
categories: ['NCP']
tags: ['loadbalancer', 'NCP']
description: "[NCP] 로드밸런서 상품 소개"
image: https://cdn-images-1.medium.com/max/800/0*Uz7COYXZqR0keVZT.png
---

### 개요

> **Load Balancer** 는 수신 트래픽을 다수의 서버로 분산시키는 서비스로서, 수신 트래픽을 등록된 멤버 서버로 분산시켜 가용성을 높이고 시스템 가동률을 조절하는 역할을 수행합니다.

> VPC 플랫폼에서는 **Network Load Balancer / Application Load Balancer / Network Proxy Load Balancer** 가 제공되어 서비스에 적합한 로드밸런서를 선택할 수 있습니다.

### 종류

> 부하처리 성능에 따라 Small / Medium / Large 중 선택할 수 있으며 로드밸런서마다 각각 초당 연결수 (CPS) 기준이 다릅니다.

**1\. Application Load Balancer**

  * HTTP/HTTPS 트래픽에 대해서 패킷 헤더를 확인하여 Application 레벨에서의 분기처리를 제공합니다.  
로드밸런서의 리스너에 Host Header기반 분기처리, URL Path Pattern 기반 분기처리, 가중치 기반 분기처리, Redirection 응답처리와 같은 규칙이 지원되어 보다 상세한 고급 서비스 구성이 가능합니다.
  * 각 30,000 / 60,000 / 90,000 개의 분산처리를 보장

**2\. Network Load Balancer**

  * 네트워크 로드밸런서는 초당 연결 수 기준 최소100,000개에서 최대 400,000개까지 성능을 보장하는 단계별 상품을 제공하여 고객 서비스 규모에 최적화된 분산처리 성능을 제공합니다.  
또한 네트워크 로드밸런서는 트래픽 분배만 수행하고 고객 서버에서 직접 응답하는 기능(DSR)을 구현하여 보다 빠르고 효율적인 서비스를 이용하실 수 있습니다.
  * 각 100,000 / 200,000 / 400,000 개의 분산처리를 보장

**3\. Network Proxy Load Balancer**

  * 네트워크 프록시 로드밸런서는 프록시 방식의 통신을 제공하여 세션 유지가 필요한 TCP 기반 애플리케이션에 이용할 수 있습니다.  
또한 애플리케이션 로드밸런서와 동일한 부하 분산 알고리즘을 적용할 수 있습니다.
  * 각 30,000 / 60,000 / 90,000 개의 분산처리를 보장

> KR존/서브넷 별 LB 생성지역 지정 가능 : VPC 환경에서는 본인이 원하는 KR존의 특정 서브넷에 LB생성 가능, KR-1/2 존에 각각 생성하여 고가용성을 확보 할 수 있습니다.

### 로드밸런싱 알고리즘

![](https://cdn-images-1.medium.com/max/800/0*CoMMGosCWIysNbmY.png)

  * Round Robin : 클라이언트에서 요청이 오면 서버에 1개씩 분배하는 방식
  * Least Connection : 클라이언트 연결이 제일 적은 서버에게 새로운 커넥션을 분배하는 방식
  * Source IP Hash : 클라이언트 IP에 대한 해시테이블을 가지고 클라이언트 IP에 매핑되는 서버에 새로운 커넥션을 분배하는 방식

### SSL 인증 및 암호화 설정

  * 웹 기반의 콘솔에서 SSL 인증서를 추가할 수 있습니다. TLSv1, TLSv1.1, TLSv1.2 등 SSL 프로토콜 중 가능한 버전을 선택해 사용할 수 있으며, 적용된 SSL Ciphers를 설정할 수 있습니다. SSL 인증서는 Certificate Manager와 연동하여 편리하게 관리됩니다.

### Load Balancer 모니터링

  * 로드밸런서에 대해서는 기본 모니터링 정보를 제공하며 서버 모니터링과 마찬가지로 기간 선택에 따라 모니터링 정보  
수집 주기를 1분, 5분, 2시간, 1일 단위로 제공합니다.
  * 네트워크 로드밸런서 모니터링은 Concurrent Connection, 초 당 Connection, Traffic In, (Un)Available hosts 등 5가지 항목의 정보를 제공하며, 애플리케이션 로드밸런서는 Traffic Out을 포함하여 6가지 항목을 제공합니다.

### Load Balancer 포트 설정

  * 여러 개의 로드밸런서 규칙을 동시에 설정할 수 있습니다.
  * 로드밸런서 규칙을 설정할 때는 로드밸런서 포트를 다른 로드밸런서 규칙의 포트와 다르게 설정해야 합니다. 서버 포트는 다른 로드밸런서 규칙의 서버 포트와 동일하게 설정하셔도 됩니다.

### LB 선택 기준 및 기능 비교

![](https://cdn-images-1.medium.com/max/800/0*LZqtPc2OzaTvISQN.png)![](https://cdn-images-1.medium.com/max/800/1*Bpbv30igDGbuS0K1kVm_9g.png)

### 참고 URL

  1. Ncloud VPC 환경 Load Balancer 가이드 : [**https://guide.ncloud-docs.com/docs/loadbalancer-start-vpc**](https://guide.ncloud-docs.com/docs/loadbalancer-start-vpc)